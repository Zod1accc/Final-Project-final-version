@using TechnoStore.Models;
@model List<Product>

@{
	int count = 0;
}



@foreach (var item in Model)
{
	count++;
	<div class="col-lg-3 col-sm-6">
		@if (count % 2 != 0)
		{
			<div class="product-box">
				<div class="imagebox">
					@if (item.IsNew == true)
					{
						<span class="item-new">NEW</span>
					}

					<ul class="box-image owl-carousel-1">
						<li>
							<a asp-action="detail" asp-controller="product" asp-route-id="@item.Id" title="">
								<img src="~/uploads/products/@item.Images.Where(x=>x.IsPoster == true).FirstOrDefault()?.Image" alt="">
							</a>
						</li>
						@foreach (var img in item.Images.Where(x => x.IsPoster == false).ToList())
						{
							<li>
								<a asp-action="detail" asp-controller="product" asp-route-id="@item.Id" title="">
									<img src="~/uploads/products/@img.Image" alt="">
								</a>
							</li>
						}
						@*<li>
							<a href="#" title="">
								<img src="~/assets/images/product/other/01.jpg" alt="">
							</a>
						</li>
						<li>
							<a href="#" title="">
								<img src="~/assets/images/product/other/01.jpg" alt="">
							</a>
						</li>*@
					</ul><!-- /.box-image -->
					<div class="box-content">
						<div class="cat-name">
							<a asp-action="getproductofcategory" asp-controller="Product" asp-route-id="@item.CategoryId" title="">@item.Category.Name</a>
						</div>
						<div class="product-name">
							<a asp-action="Detail" asp-controller="Product" asp-route-id="@item.Id" title="">@item.Name</a>
						</div>
						<div class="price">
							<span class="sale">$@(item.SellPrice - (item.SellPrice * item.DiscountPrice) / 100)</span>
							<span class="regular">$@item.SellPrice</span>
						</div>
					</div><!-- /.box-content -->
					<div class="box-bottom">
						<div class="btn-add-cart">
							<a asp-action="addtobasket" asp-controller="home" asp-route-id="@item.Id" class="basketaddbtn" title="">
								<img src="~/assets/images/icons/add-cart.png" alt="">Add to Cart
							</a>
						</div>
						<div class="compare-wishlist">
							@*<a href="#" class="compare" title="">
								<img src="~/assets/images/icons/compare.png" alt="">Compare
							</a>*@
							<a asp-action="AddToFavourites" asp-controller="Product" asp-route-id="@item.Id" class="wishlist addtofavourite" title="">
								<img src="~/assets/images/icons/wishlist.png" alt="">Wishlist
							</a>
						</div>
					</div><!-- /.box-bottom -->
				</div><!-- /.imagebox -->
			</div>
		}
		@if (count % 2 == 0)
		{
			<div class="product-box">
				<div class="imagebox">
					@if (item.IsNew == true)
					{
						<span class="item-new">NEW</span>
					}
					<ul class="box-image owl-carousel-1">
						<li>
							<a asp-action="detail" asp-controller="product" asp-route-id="@item.Id" title="">
								<img src="~/uploads/products/@item.Images.Where(x=>x.IsPoster == true).FirstOrDefault()?.Image" alt="">
							</a>
						</li>
						@foreach (var img in item.Images.Where(x => x.IsPoster == false).ToList())
						{
							<li>
								<a asp-action="detail" asp-controller="product" asp-route-id="@item.Id" title="">
									<img src="~/uploads/products/@img.Image" alt="">
								</a>
							</li>
						}
						@*<li>
							<a href="#" title="">
								<img src="~/assets/images/product/other/05.jpg" alt="">
							</a>
						</li>
						<li>
							<a href="#" title="">
								<img src="~/assets/images/product/other/05.jpg" alt="">
							</a>
						</li>*@
					</ul><!-- /.box-image -->
					<div class="box-content">
						<div class="cat-name">
							<a href="#" title="">@item.Category.Name</a>
						</div>
						<div class="product-name">
							<a asp-action="detail" asp-controller="product" asp-route-id="@item.Id" title="">@item.Name</a>
						</div>
						<div class="price">
							<span class="sale">$@(item.SellPrice - (item.SellPrice * item.DiscountPrice) / 100)</span>
							<span class="regular">$@item.SellPrice</span>
						</div>
					</div><!-- /.box-content -->
					<div class="box-bottom">
						<div class="btn-add-cart">
							<a asp-action="addtobasket" asp-controller="home" asp-route-id="@item.Id" class="basketaddbtn" title="">
								<img src="~/assets/images/icons/add-cart.png" alt="">Add to Cart
							</a>
						</div>
						<div class="compare-wishlist">
							<span class="compare">
								@*<a href="#" title="">
									<img src="~/assets/images/icons/compare.png" alt="">Compare
								</a>*@
							</span>
							<span class="wishlist">
								<a asp-action="AddToFavourites" asp-controller="Product" asp-route-id="@item.Id" class="addtofavourite" title="">
									<img src="~/assets/images/icons/wishlist.png" alt="">Wishlist
								</a>
							</span>
						</div>
					</div><!-- /.box-bottom -->
				</div><!-- /.imagebox -->
			</div>
		}
	</div>
}



